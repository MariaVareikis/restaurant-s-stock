<div class="modal" *ngIf="product">
  <!-- Modal container -->
  <div class="modal-content">
    <!-- Close button for the modal -->
    <span class="close" (click)="onCloseModal()">&times;</span>
    <h2>Update Product</h2>

    <!-- Form for updating product details -->
    <form [formGroup]="updateForm" (ngSubmit)="onSubmit()">
      <!-- Name field -->
      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Name</mat-label>
        <!-- Input for product name with validation -->
        <input matInput id="name" type="text" formControlName="name" />
        <!-- Validation message for name field -->
        <mat-error *ngIf="updateForm.get('name')?.invalid && updateForm.get('name')?.touched">
          <span *ngIf="updateForm.get('name')?.errors?.['required']">Name is required.</span>
        </mat-error>
      </mat-form-field>

      <!-- Quantity field -->
      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Quantity</mat-label>
        <!-- Input for product quantity with validation -->
        <input matInput id="quantity" type="number" formControlName="quantity" />
        <!-- Validation messages for quantity field -->
        <mat-error *ngIf="updateForm.get('quantity')?.invalid && updateForm.get('quantity')?.touched">
          <span *ngIf="updateForm.get('quantity')?.errors?.['required']">Quantity is required.</span>
          <span *ngIf="updateForm.get('quantity')?.errors?.['min']">Quantity must be at least 1.</span>
        </mat-error>
      </mat-form-field>

      <!-- Serial Number field -->
      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Serial Number</mat-label>
        <!-- Input for product serial number with validation -->
        <input matInput id="serialNumber" type="text" formControlName="serialNumber" />
        <!-- Validation message for serial number field -->
        <mat-error *ngIf="updateForm.get('serialNumber')?.invalid && updateForm.get('serialNumber')?.touched">
          <span *ngIf="updateForm.get('serialNumber')?.errors?.['required']">Serial Number is required.</span>
        </mat-error>
      </mat-form-field>

      <!-- Created At field (disabled) -->
      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Created At</mat-label>
        <!-- Display the creation date (read-only) -->
        <input matInput id="createdAt" type="text" [value]="product.createdAt | date: 'short'" disabled />
      </mat-form-field>

      <!-- Updated At field (disabled) -->
      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Updated At</mat-label>
        <!-- Display the last update date (read-only) -->
        <input matInput id="updatedAt" type="text" [value]="product.updatedAt | date: 'short'" disabled />
      </mat-form-field>

      <!-- Is Deleted checkbox -->
      <mat-checkbox formControlName="isDeleted">Is Deleted</mat-checkbox>

      <!-- Form buttons -->
      <div class="form-group">
        <!-- Update button, disabled if form is invalid -->
        <button mat-raised-button color="primary" type="submit" [disabled]="updateForm.invalid">Update</button>
        <!-- Cancel button to close the modal -->
        <button mat-raised-button color="accent" type="button" (click)="onCloseModal()">Cancel</button>
      </div>
    </form>
  </div>
</div>